{% extends 'accounts/base.html' %}
{% load static %}

{% block content %}
<div class="signup-container" style="min-height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 50px 0;">
    <div class="container">
        <div class="signup-card" style="max-width: 500px; margin: 0 auto; background: white; border-radius: 20px; padding: 40px; box-shadow: 0 20px 40px rgba(0,0,0,0.1);">
            <div class="signup-header" style="text-align: center; margin-bottom: 30px;">
                <a href="{% url 'signup' %}" style="color: #6c757d; text-decoration: none; display: inline-flex; align-items: center; margin-bottom: 15px;">
                    <i class="fas fa-arrow-left" style="margin-right: 8px;"></i> Back to Account Selection
                </a>
                <div class="logo">
                    <i class="fas fa-user-tie fa-2x" style="color: #8338ec;"></i>
                    <h1 style="color: #8338ec; margin: 10px 0 5px 0;">Staff Sign Up</h1>
                </div>
            </div>

            <!-- Display Messages -->
            {% if messages %}
            <div class="messages">
                {% for message in messages %}
                <div class="alert alert-{% if message.tags == 'error' %}error{% else %}success{% endif %}" 
                     style="padding: 12px 16px; border-radius: 8px; margin-bottom: 20px; font-weight: 500; 
                            {% if message.tags == 'error' %}background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;{% else %}background: #d4edda; color: #155724; border: 1px solid #c3e6cb;{% endif %}">
                    {{ message }}
                </div>
                {% endfor %}
            </div>
            {% endif %}

            <form method="POST" class="signup-form">
                {% csrf_token %}
                
                <div class="form-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label for="first_name" style="display: block; margin-bottom: 8px; font-weight: 500; color: #495057;">First Name *</label>
                        <input type="text" id="first_name" name="first_name" class="form-control" 
                               style="width: 100%; padding: 12px 15px; border: 1px solid #dee2e6; border-radius: 8px; font-size: 1rem; transition: all 0.3s ease;"
                               placeholder="Enter first name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="last_name" style="display: block; margin-bottom: 8px; font-weight: 500; color: #495057;">Last Name *</label>
                        <input type="text" id="last_name" name="last_name" class="form-control" 
                               style="width: 100%; padding: 12px 15px; border: 1px solid #dee2e6; border-radius: 8px; font-size: 1rem; transition: all 0.3s ease;"
                               placeholder="Enter last name" required>
                    </div>
                </div>

                <div class="form-group" style="margin-bottom: 20px;">
                    <label for="staff_id" style="display: block; margin-bottom: 8px; font-weight: 500; color: #495057;">Staff ID</label>
                    <input type="text" id="staff_id" name="staff_id" class="form-control" 
                           style="width: 100%; padding: 12px 15px; border: 1px solid #dee2e6; border-radius: 8px; font-size: 1rem; transition: all 0.3s ease;"
                           placeholder="Enter staff ID (optional)">
                </div>

                <div class="form-group" style="margin-bottom: 20px;">
                    <label for="username" style="display: block; margin-bottom: 8px; font-weight: 500; color: #495057;">Username *</label>
                    <input type="text" id="username" name="username" class="form-control" 
                           style="width: 100%; padding: 12px 15px; border: 1px solid #dee2e6; border-radius: 8px; font-size: 1rem; transition: all 0.3s ease;"
                           placeholder="Choose a username" required>
                    <small style="color: #6c757d; font-size: 0.8rem;">This will be your unique identifier</small>
                </div>

                <div class="form-group" style="margin-bottom: 20px;">
                    <label for="email" style="display: block; margin-bottom: 8px; font-weight: 500; color: #495057;">Email Address *</label>
                    <input type="email" id="email" name="email" class="form-control" 
                           style="width: 100%; padding: 12px 15px; border: 1px solid #dee2e6; border-radius: 8px; font-size: 1rem; transition: all 0.3s ease;"
                           placeholder="staff.email@institution.edu" required>
                </div>

                <div class="form-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label for="password1" style="display: block; margin-bottom: 8px; font-weight: 500; color: #495057;">Password *</label>
                        <input type="password" id="password1" name="password1" class="form-control" 
                               style="width: 100%; padding: 12px 15px; border: 1px solid #dee2e6; border-radius: 8px; font-size: 1rem; transition: all 0.3s ease;"
                               placeholder="Enter password" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="password2" style="display: block; margin-bottom: 8px; font-weight: 500; color: #495057;">Confirm Password *</label>
                        <input type="password" id="password2" name="password2" class="form-control" 
                               style="width: 100%; padding: 12px 15px; border: 1px solid #dee2e6; border-radius: 8px; font-size: 1rem; transition: all 0.3s ease;"
                               placeholder="Confirm password" required>
                    </div>
                </div>

                <div class="form-group" style="margin-bottom: 25px;">
                    <div class="form-check">
                        <input type="checkbox" id="terms" name="terms" class="form-check-input" 
                               style="margin-right: 8px;" required>
                        <label for="terms" style="color: #495057; font-size: 0.9rem;">
                            I agree to the <a href="#" style="color: #8338ec;">Terms of Service</a> and <a href="#" style="color: #8338ec;">Privacy Policy</a>
                        </label>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" 
                        style="width: 100%; padding: 12px; background: #8338ec; color: white; border: none; border-radius: 8px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
                    Create Staff Account
                </button>
            </form>

            <div style="margin-top: 25px; text-align: center; padding-top: 20px; border-top: 1px solid #e9ecef;">
                <p style="color: #6c757d; margin: 0;">
                    Already have an account? 
                    <a href="{% url 'login_view' %}" style="color: #8338ec; text-decoration: none; font-weight: 600;">Login here</a>
                </p>
            </div>
        </div>
    </div>
</div>

<style>
.form-control:focus {
    outline: none;
    border-color: #8338ec;
    box-shadow: 0 0 0 3px rgba(131, 56, 236, 0.2);
}

.btn-primary:hover {
    background: #6a2bc9 !important;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}
</style>
{% endblock %}